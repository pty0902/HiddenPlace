<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>header</title>

<link rel="shortcut icon" href="/resources/bootstrap/HTML/images/favicon.ico" />
<link href='https://fonts.googleapis.com/css?family=Lato:400,300,700&amp;subset=latin,latin-ext'
	rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="/resources/bootstrap/HTML/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="/resources/bootstrap/HTML/css/animate.css" />
<link rel="stylesheet" type="text/css" href="/resources/bootstrap/HTML/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="/resources/bootstrap/HTML/css/swiper.min.css" />
<link rel="stylesheet" type="text/css" href="/resources/bootstrap/HTML/css/style.css" />
<link rel="stylesheet" type="text/css" href="/resources/customize/css/header.css" />
<script src="/resources/bootstrap/HTML/javascript/pace.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/resources/bootstrap/HTML/bootstrap/js/bootstrap.min.js"></script>
<script src="/resources/bootstrap/HTML/javascript/modernizr-custom.js"></script>
<script src="/resources/bootstrap/HTML/javascript/script.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<script src="/resources/js/homepage/homepageController.js"></script>
<script src="/resources/js/user/userController.js"></script>

</head>

<!-- head menu 이벤트 핸들링 -->
<script type="text/javascript">
   $(document).ready(function() {
      
      //session에 저장되있는 userId값 가져오기
	  var loginState = localStorage.getItem('userId');
      var headmenuLink1;
      var headmenuLink2;
      var headmenuLink3;

      if(loginState == null) {
         headmenuLink1 = $('<button id="headmenu-login" class="btn btn-default">로그인</button>');
      
         $('#headmenu-div').append(headmenuLink1);
      } else {
         headmenuLink1 = $('<button id="headmenu-myInfo" class="btn btn-default">'+loginState+'</button>');
         headmenuLink2 = $('<button id="headmenu-bookmark" class="btn btn-default">즐겨찾기</button>');
         headmenuLink3 = $('<button id="headmenu-logout" class="btn btn-default">로그아웃</button>');
     
         $('#headmenu-div').append(headmenuLink1, headmenuLink2, headmenuLink3);
      }
      
   });
</script>

<!-- 로고(header) 클릭이벤트 -->
<script>
$(document).ready(function() {
	$('.logo').click(function() {
		var homepageController = new HomepageController;
		homepageController.requestHomepageUrl();
	});
});
</script>

<!-- 마이페이지(header) 클릭이벤트 -->
<script>
$(document).ready(function() {
	$('#headmenu-myInfo').click(function() {
		var homepageController = new HomepageController;
		homepageController.requestMypageUrl();
	});
});
</script>

<!-- 즐겨찾기(header) 클릭이벤트 -->
<script>
$(document).ready(function() {
	$('#headmenu-bookmark').click(function() {
		var homepageController = new HomepageController;
		homepageController.requestBookmarkUrl();
	});
});
</script>

<!-- head menu 로그아웃 이벤트 핸들링 -->
<script>
$(document).ready(function() {
   $('#headmenu-logout').click(function() {

      var userId = localStorage.getItem('userId');
      var userController = new UserController();
      var isSuccess = userController.requestLogout(userId);
      if (isSuccess == "success") {
         alert("로그아웃 되었습니다.")
         localStorage.clear();
         window.location.reload(); //새로고침(f5), 즐겨찾기 아이콘 클릭시 글조회 이벤트가 삭제되므로 되살리기 위해 사용
      }

   });
});
</script>

<!-- 로그인 이벤트 핸들링 -->
<script>
$(document).ready(function() {
	$('#headmenu-login').click(function() {
		var homepageController = new HomepageController;
		homepageController.requestLoginUrl();
	});
});
</script>

<!-- 상단 메뉴 헤더 -->
<header id="headmenu-header" style="margin-top:0%;">
	<div class="jumbotron">
		<a><img class="logo" src="../../../resources/customize/images/mhp.png" alt="Logo" style="cursor:pointer"/></a>
		<input id="search_bar" type="text" placeholder="#가산 #내가알지못한곳" />
		<button id="search_button" class="btn btn-default" type="button">
			<span class="glyphicon glyphicon-search"></span>
		</button>
		<div id="headmenu-div" class="btn-group">
             
             
		</div>
	</div>
</header>

</html>